#!/bin/bash

case $1 in
    model)
        echo $(grep -oP 'Revision\s*:\s*\K[^ ]*' /proc/cpuinfo)
        ;;
    serial)
        echo $(grep -oP 'Serial\s*:\s*\K[^ ]*' /proc/cpuinfo)
        ;;
    config_txt)
        if [ -f /boot/firmware/config.txt ]; then
            echo "/boot/firmware/config.txt"
            exit 0
        fi
        if [ -f /boot/config.txt ]; then
            echo "/boot/config.txt"
            exit 0
        fi
        exit 1
        ;;
    *)
        echo "Usage: $0 {model|serial|config_txt}"
        exit 1
esac
